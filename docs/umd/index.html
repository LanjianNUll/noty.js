<!DOCTYPE html>
<html>
  <head>
    <title>@ppz/noty 使用</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-sacle=1, maximum-scale=1" >

    <link href="https://unpkg.com/prismjs@1.27.0/themes/prism-okaidia.css" rel="stylesheet">
    <script src="https://unpkg.com/prismjs@1.27.0/prism.js"></script>
    <link rel="stylesheet" type="text/css" href="../content/index.css">
    <link rel="stylesheet" type="text/css" href="index.css">
  </head>
  <body>
    <main class="container">
      <header>
        <h1>noty.js</h1>
        <a class="github-button" href="https://github.com/ppz-pro/noty.js" data-size="large" data-show-count="true" aria-label="Star ppz-pro/noty.js on GitHub">Star</a>
        <script async defer src="https://buttons.github.io/buttons.js"></script>
      </header>

      <p>noty.js 可以进行深度定制，但同时提供默认定制，开箱即用。下文对默认定制做简单介绍。关于定制，请参考<a href="https://github.com/ppz-pro/noty.js/blob/main/docs/custom.md">这个链接</a>。</p>

      <section>
        <h2>安装</h2>
        <pre><code class="language-shell">$ npm install @ppzp/noty</code></pre>
      </section>
      
      <section>
        <h2>使用</h2>
        <pre><code class="language-js">import noty from '@ppzp/noty' // 引入默认配置（动画、内容）的通知
import '@ppzp/noty/content/index.css' // 引入默认样式</code></pre>
      </section>
      
      <section>
        <h2>案例</h2>

        <section class="basic">
          <h3>基础</h3>
          <button class="info">普通</button>
          <button class="success">成功</button>
          <button class="warn">警告</button>
          <button class="error">错误</button>
          <button class="loading">加载中</button>

          <pre><code class="language-js">noty.info('一条普通通知')
noty.success('成了~')
noty.warn('警告！')
noty.error('出错了')
noty.loading('加载中...') // 默认情况下不会自动关闭</code></pre>
        </section>
  
        <section class="duration">
          <h3>设置停留时间</h3>
          <button>1 秒</button>
          <pre><code class="language-js">noty.info('停留 1 秒', {
  duration: 1000
})</code></pre>
        </section>

        <section class="hold">
          <h3>常驻</h3>
          <button>常驻</button>
          <pre><code class="language-js">noty.info('我将永存', {
  duration: 0
})</code></pre>
        </section>

        <section class="closable">
          <h3>关闭按钮</h3>
          <button>可关闭的</button>
          <pre><code class="language-js">noty.info('注意右上', {
  closeBtn: true
})</code></pre>
        </section>

        <section class="closable">
          <h3>实践一 异常提示</h3>
          <p>发生异常时，为了不使用户忽略通知，应使通知常驻，并提供关闭按钮，让用户手动关闭通知。</p>
          <pre><code class="language-js">noty.error('出错了', {
  duration: 0,
  closeBtn: true
})</code></pre>
        </section>

        <section class="closable">
          <h3>实践二 数据加载</h3>
          <p>数据加载前应通知用户，进入“等待期”；数据加载完成后，再关闭通知，同时提示“加载成功”。</p>
          <pre><code class="language-js">const notyItem = noty.loading('数据加载中') // 加载数据前，显示通知
ajax.get('/xxx').then(function(res) {
  // 处理数据...
  notyItem.close() // 数据加载完成后，关闭通知
  noty.success('数据加载成功')
})</code></pre>
        </section>
      </section>
      <a href="https://github.com/ppz-pro/noty.js/blob/main/docs/custom.md">API & 定制</a>
    </main>

    <script  src="../../dist/noty.min.js"></script>
    <script>
      el('.basic .info').onclick = function() {
        noty.info('一条普通通知')
      }
      el('.basic .success').onclick = function() {
        noty.success('成了~')
      }
      el('.basic .warn').onclick = function() {
        noty.warn('警告！')
      }
      el('.basic .error').onclick = function() {
        noty.error('出错了')
      }
      el('.basic .loading').onclick = function() {
        noty.loading('加载中...')
      }

      el('.duration button').onclick = function() {
        noty.info('停留 1 秒', {
          duration: 1000 // 单位：毫秒
        })
      }

      el('.hold button').onclick = function() {
        noty.info('我将永存', {
          duration: 0
        })
      }

      el('.closable button').onclick = function() {
        noty.info('注意右上', {
          closeBtn: true
        })
      }

      function el(selector) {
        return document.querySelector(selector)
      }
    </script>
  </body>
</html>